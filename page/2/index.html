<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="一个iOSer的自留地">
<meta property="og:type" content="website">
<meta property="og:title" content="小火炉">
<meta property="og:url" content="http://izhexi.com/page/2/index.html">
<meta property="og:site_name" content="小火炉">
<meta property="og:description" content="一个iOSer的自留地">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小火炉">
<meta name="twitter:description" content="一个iOSer的自留地">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://izhexi.com/page/2/">





  <title>小火炉</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小火炉</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">最怕一生碌碌无为，还安慰自己平凡可贵</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/NSDate时间格式特殊化处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/NSDate时间格式特殊化处理/" itemprop="url">NSDate时间格式特殊化处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-21T21:53:10+00:00">
                2016-06-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS基础/" itemprop="url" rel="index">
                    <span itemprop="name">iOS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/NSDate时间格式特殊化处理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/NSDate时间格式特殊化处理/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>iOS特殊格式化时间公式，可以应对90%的场景了。<br>大多数时候我们采用结合<code>NSCalendar</code> 和 <code>NSDateComponents</code> 的方式去获取 <code>年</code> <code>月</code> <code>周</code> <code>日</code>相关的信息。<br>特殊的其他形式我们可以如下处理：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSCalendar</span> *calendar = [[<span class="built_in">NSCalendar</span> alloc] initWithCalendarIdentifier:<span class="built_in">NSGregorianCalendar</span>];</span><br><span class="line">    <span class="built_in">NSDate</span> *now = [<span class="built_in">NSDate</span> date];</span><br><span class="line">    <span class="built_in">NSDateComponents</span> *comps = [[<span class="built_in">NSDateComponents</span> alloc] init];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc]init]; </span><br><span class="line"></span><br><span class="line">[dateFormatter setDateFormat:<span class="string">@"'公元前/后:'G '年份:'u'='yyyy'='yy '季度:'q'='qqq'='qqqq '月份:'M'='MMM'='MMMM '今天是今年第几周:'w '今天是本月第几周:'W '今天是今天第几天:'D '今天是本月第几天:'d '星期:'c'='ccc'='cccc '上午/下午:'a '小时:'h'='H '分钟:'m '秒:'s '毫秒:'SSS '这一天已过多少毫秒:'A '时区名称:'zzzz'='vvvv '时区编号:'Z "</span>]; </span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [dateFormatter stringFromDate:[<span class="built_in">NSDate</span> date]]); </span><br><span class="line"></span><br><span class="line">OutPut: </span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 区域格式：美国 </span><br><span class="line"></span><br><span class="line">公元前/后:AD 年份:<span class="number">2013</span>=<span class="number">2013</span>=<span class="number">13</span> 季度:<span class="number">3</span>=Q3=<span class="number">3</span>rd quarter 月份:<span class="number">8</span>=Aug=August 今天是今年第几周:<span class="number">32</span> 今天是本月第几周:<span class="number">2</span> 今天是今天第几天:<span class="number">219</span> 今天是本月第几天:<span class="number">7</span> 星期:<span class="number">4</span>=Wed=Wednesday 上午/下午:AM 小时:<span class="number">1</span>=<span class="number">1</span> 分钟:<span class="number">24</span> 秒:<span class="number">32</span> 毫秒:<span class="number">463</span> 这一天已过多少毫秒:<span class="number">5072463</span> 时区名称:China Standard Time=China Standard Time 时区编号:+<span class="number">0800</span> </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 区域格式：中国 </span><br><span class="line"></span><br><span class="line">公元前/后:公元 年份:<span class="number">2013</span>=<span class="number">2013</span>=<span class="number">13</span> 季度:<span class="number">3</span>=三季度=第三季度 月份:<span class="number">8</span>=<span class="number">8</span>月=<span class="number">8</span>月 今天是今年第几周:<span class="number">32</span> 今天是本月第几周:<span class="number">2</span> 今天是今天第几天:<span class="number">219</span> 今天是本月第几天:<span class="number">7</span> 星期:<span class="number">4</span>=周三=星期三 上午/下午:上午 小时:<span class="number">1</span>=<span class="number">1</span> 分钟:<span class="number">44</span> 秒:<span class="number">30</span> 毫秒:<span class="number">360</span> 这一天已过多少毫秒:<span class="number">6270360</span> 时区名称:中国标准时间=中国标准时间 时区编号:+<span class="number">0800</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/类别-属性关联-扩展的差异/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/类别-属性关联-扩展的差异/" itemprop="url">类别-属性关联-扩展的差异</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-23T15:19:30+00:00">
                2016-04-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/类别-属性关联-扩展的差异/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/类别-属性关联-扩展的差异/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在JSpath群里，大佬们讨论了相关的内容。特此记下来。</p>
<ul>
<li>类别：不需要有源码，只能扩展方法  </li>
<li>关联：不需要有源码，只能扩展属性  </li>
<li>扩展：需要有源码，可以扩展任何东西  </li>
<li><code>associative</code>不是属性  </li>
<li>·property·是属性  </li>
</ul>
<p>扩展所采用的技术，跟类别是不一样的，扩展其实就是一个编译器帮你做了好像能跟类别那样用的效果，但是实际上编译后就揉到一起了 <br><code>associative</code> 没进<code>ivar</code> <br>类别是通过<code>runtime</code>的机制，对方法链表做文章，给他加上了<code>imp</code> 改变方法链表修改指针。改变方法指向。 但是ivar改不了。<br>下面是Apple原文<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Because no name is given in the parentheses, class extensions are often referred to as anonymous categories.  </span><br><span class="line">Unlike regular categories, a class extension can add its own properties and instance variables to a class.  </span><br><span class="line">the compiler will automatically synthesize the relevant accessor methods, as well as an instance variable, inside the primary class implementation.</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/原生框架发起网络访问/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/原生框架发起网络访问/" itemprop="url">原生框架发起网络访问</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-21T19:40:10+00:00">
                2016-04-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS基础/" itemprop="url" rel="index">
                    <span itemprop="name">iOS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/原生框架发起网络访问/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/原生框架发起网络访问/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-常用访问方法"><a href="#1-常用访问方法" class="headerlink" title="1.常用访问方法"></a>1.常用访问方法</h4><ul>
<li>GET 检索一个连接的请求或者从服务端获取HTTP术语中的一个实体。GET一般允许但是不包含请求体。有些网络缓存会缓存请求的回答。一般情况下，GET不会引起服务端数据改变。（支持发送少量的数据8KB，大量数据使用POST） </li>
<li>POST从客户端更新一个实体的数据。一般POST请求通常有请求信息放在body里。POST请求是非量级更新的（non-idempotent），每次更新都应该与第一次有所不同。 </li>
<li>HEAD 用于检索请求回应的元数据的大小。通常用来计算服务端数据的返回数据百分比。 </li>
<li>DELETE 用于移除基于客户端请求体里提供的URI指向的资源。在REST中使用频繁些。 </li>
</ul>
<h4 id="2-使用NSURL-NSMutableURLRequest-NSURLRequest-NSURLConnection发起请求。"><a href="#2-使用NSURL-NSMutableURLRequest-NSURLRequest-NSURLConnection发起请求。" class="headerlink" title="2.使用NSURL NSMutableURLRequest NSURLRequest NSURLConnection发起请求。"></a>2.使用<code>NSURL</code> <code>NSMutableURLRequest</code> <code>NSURLRequest</code> <code>NSURLConnection</code>发起请求。</h4><h5 id="2-1NSURLConnection发起访问"><a href="#2-1NSURLConnection发起访问" class="headerlink" title="2.1NSURLConnection发起访问"></a>2.1NSURLConnection发起访问</h5><ul>
<li>同步访问 <br>sendSynchronousRequest: returningResponse: error: </li>
<li><p>异步访问 <br>sendAsynchronousRequest: queue: completionHandler: </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:urlString]; </span><br><span class="line"><span class="built_in">NSMutableURLRequest</span> *request = [[<span class="built_in">NSMutableURLRequest</span> alloc]initWithURL:url]; </span><br><span class="line">[request addValue:<span class="string">@"154085236"</span> forHTTPHeaderField:<span class="string">@"userId"</span>]; </span><br><span class="line"> [request addValue:<span class="string">@"encrypt xeyTUA5o8vfObEDB+gtzRHUdjbY9oaPfyj4Z8uA9dIxRayXrkzCO4a1kPx0srtKE5pvSfv4VoH9hp2YfV5HBsQ=="</span> forHTTPHeaderField:<span class="string">@"Authorization"</span>]; </span><br><span class="line"> <span class="built_in">NSHTTPURLResponse</span> *response; </span><br><span class="line"> <span class="built_in">NSError</span> *error; </span><br><span class="line"> <span class="comment">//**发情同步请求 </span></span><br><span class="line"> <span class="built_in">NSData</span> *data = [<span class="built_in">NSURLConnection</span> sendSynchronousRequest:request returningResponse:&amp;response error:&amp;error]; </span><br><span class="line"> <span class="comment">//**序列化解析 </span></span><br><span class="line"> <span class="keyword">id</span> responseDic = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:data options:<span class="built_in">NSJSONReadingMutableLeaves</span> error:&amp;error]; </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,responseDic); </span><br><span class="line"><span class="comment">//**新建一个队列 </span></span><br><span class="line"><span class="built_in">NSOperationQueue</span> *queue = [[<span class="built_in">NSOperationQueue</span> alloc]init]; </span><br><span class="line"><span class="comment">//**异步发起请求 </span></span><br><span class="line">[<span class="built_in">NSURLConnection</span> sendAsynchronousRequest:request queue:queue completionHandler:^(<span class="built_in">NSURLResponse</span> * _Nullable response, <span class="built_in">NSData</span> * _Nullable data, <span class="built_in">NSError</span> * _Nullable connectionError) &#123; </span><br><span class="line"> <span class="built_in">NSError</span> *error; </span><br><span class="line"> <span class="keyword">id</span> responseDic = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:data options:<span class="built_in">NSJSONReadingMutableLeaves</span> error:&amp;error]; </span><br><span class="line"> <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,responseDic); </span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="2-2-如果需要更多的访问状态反馈可以实现代理方法"><a href="#2-2-如果需要更多的访问状态反馈可以实现代理方法" class="headerlink" title="2.2.如果需要更多的访问状态反馈可以实现代理方法"></a>2.2.如果需要更多的访问状态反馈可以实现代理方法</h5><ul>
<li><p>实现NSURLConnectionDelegate </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 请求失败回调</span></span><br><span class="line"> - (<span class="keyword">void</span>)connection:(<span class="built_in">NSURLConnection</span> *)connection didFailWithError:(<span class="built_in">NSError</span> *)error; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否使用本地凭证</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)connectionShouldUseCredentialStorage:(<span class="built_in">NSURLConnection</span> *)connection; </span><br><span class="line"></span><br><span class="line"><span class="comment">//将要发起鉴权</span></span><br><span class="line"> - (<span class="keyword">void</span>)connection:(<span class="built_in">NSURLConnection</span> *)connection willSendRequestForAuthenticationChallenge:(<span class="built_in">NSURLAuthenticationChallenge</span> *)challenge; </span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)connection:(<span class="built_in">NSURLConnection</span> *)connection canAuthenticateAgainstProtectionSpace:(<span class="built_in">NSURLProtectionSpace</span> *)protectionSpace; </span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)connection:(<span class="built_in">NSURLConnection</span> *)connection didReceiveAuthenticationChallenge:(<span class="built_in">NSURLAuthenticationChallenge</span> *)challenge; </span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)connection:(<span class="built_in">NSURLConnection</span> *)connection didCancelAuthenticationChallenge:(<span class="built_in">NSURLAuthenticationChallenge</span> *)challenge;</span><br></pre></td></tr></table></figure>
</li>
<li><p>发起请求 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSURLConnection connection = [[NSURLConnection alloc] initWithRequest:request </span><br><span class="line"></span><br><span class="line">delegate:self startImmediately:NO]; </span><br><span class="line"></span><br><span class="line">[connection scheduleInRunLoop:[NSRunLoop mainRunLoop] forMode:NSDefaultRunLoopMode]; [connection start];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="3-使用NSURLSessionNSURLSessionDataTaskNSURLSessionConfiguration进行网络访问进度显示"><a href="#3-使用NSURLSessionNSURLSessionDataTaskNSURLSessionConfiguration进行网络访问进度显示" class="headerlink" title="3.使用NSURLSessionNSURLSessionDataTaskNSURLSessionConfiguration进行网络访问进度显示"></a>3.使用NSURLSession<code>NSURLSessionDataTask</code>NSURLSessionConfiguration进行网络访问进度显示</h4><h5 id="3-1NSURLSession-NSURLSessionDataTask-NSURLSessionConfiguration三者的关系"><a href="#3-1NSURLSession-NSURLSessionDataTask-NSURLSessionConfiguration三者的关系" class="headerlink" title="3.1NSURLSession NSURLSessionDataTask NSURLSessionConfiguration三者的关系"></a>3.1<code>NSURLSession</code> <code>NSURLSessionDataTask</code> <code>NSURLSessionConfiguration</code>三者的关系</h5><ul>
<li><p>这三个东西是什么？ <br>可以简单的理解为发起访问的三个组. </p>
</li>
<li><p>NSURLSession代替了NSURLConnection，是发起Http请求的前期准备，底层怎么实现就先忽略吧。每一个网络会话（NSRURLSession）需要一个配置（NSSessionConfiguration）。每个session可以进行多个任务（NSURLSessionTask）; </p>
</li>
<li><p>NSSessionConfiguration配置里提供了配置请求的一些属性：缓存策略@property NSURLRequestCachePolicy requestCachePolicy;,超时设置:@property NSTimeInterval timeoutIntervalForRequest;,cookies信息等。 </p>
</li>
<li><p>SURLSessionDataTask是NSURLSessionTask的子类。NSURLSessionTask常用的子类  </p>
</li>
<li><p>NSURLSessionDataTask：用来请求资源，然后服务器返回数据，再内存中存储为NSData格式。default,ephemeral,sharedSession支持data task。backgroundsession不支持。 </p>
</li>
<li><p>NSURLSessionUploadTask:和DataTask类似，只不过在请求的时候提供了request body。并且background Session支持 upload task。 </p>
</li>
<li><p>NSURLSessionDownloadTask:下载内容到硬盘上，所有类型的Session都支持。 </p>
</li>
<li><p>使用: </p>
</li>
<li><p>初始化一个Session </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- NSURLSessionConfiguration *config = [NSURLSessionConfiguration ephemeralSessionConfiguration]; </span><br><span class="line"></span><br><span class="line">_session = [NSURLSession sessionWithConfiguration:config delegate:self delegateQueue:[NSOperationQueue mainQueue]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个task </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_sessionDataTask = [self.session dataTaskWithURL:self.url];</span><br></pre></td></tr></table></figure>
<ul>
<li>开始一个任务 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self.sessionDataTask resume];</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/代码最佳实践（柳妹版本）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/代码最佳实践（柳妹版本）/" itemprop="url">代码最佳实践（柳妹版本）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-12T15:58:57+00:00">
                2016-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/代码最佳实践（柳妹版本）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/代码最佳实践（柳妹版本）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>大佬给的学习资料<br>GitHub@<a href="https://github.com/liuminqian" target="_blank" rel="noopener">minqian</a></p>
<ul>
<li><p>Refactor(主要是各类Rules，风格，除设计模式) </p>
<p>书籍 </p>
<ol>
<li>Effective Objective-C 2.0 </li>
<li><a href="https://github.com/objc-zen/objc-zen-book" target="_blank" rel="noopener">https://github.com/objc-zen/objc-zen-book</a> </li>
</ol>
<p>工具 </p>
<p>这里面都有挺多rules，值得关注和学习。 </p>
<ol>
<li><a href="http://fauxpasapp.com/" target="_blank" rel="noopener">Fauxpas</a> </li>
<li><a href="http://objclean.com/" target="_blank" rel="noopener">objclean</a> </li>
<li>OCLint </li>
</ol>
<p>Tips: <a href="http://matthewmorey.com/xcode-build-phases/" target="_blank" rel="noopener">http://matthewmorey.com/xcode-build-phases/</a> </p>
<p>代码库 </p>
<p><a href="https://github.com/BoltsFramework/Bolts-iOS" target="_blank" rel="noopener">Bolts iOS</a> </p>
<p>博客(比较碎的) </p>
<p><a href="http://mattgemmell.com/api-design/" target="_blank" rel="noopener">iOS API Design</a> </p>
<p><a href="http://blog.xcodev.com/archives/objective-c-naming/" target="_blank" rel="noopener">Objective-C Naming</a> </p>
<p><a href="http://www.merowing.info/2014/03/refactoring-tricks/" target="_blank" rel="noopener">http://www.merowing.info/2014/03/refactoring-tricks/</a> </p>
<p><a href="http://benedictcohen.co.uk/blog/archives/304" target="_blank" rel="noopener">When and how to use instancetype</a>, <a href="http://clang.llvm.org/docs/LanguageExtensions.html" target="_blank" rel="noopener">Clang Related Result Type</a>,<a href="http://nshipster.cn/instancetype/" target="_blank" rel="noopener">nshipster instance type</a> </p>
<p><a href="http://ashfurrow.com/blog/structuring-modern-objective-c" target="_blank" rel="noopener">Structuring Modern Objective-C</a> </p>
<p>Review </p>
<p>博客 </p>
<ol>
<li><a href="http://blog.bignerdranch.com/4585-yet-another-form-code-review/" target="_blank" rel="noopener">Yet Another Form of Code Review</a> </li>
<li><a href="http://ashfurrow.com/blog/ios-community-growing-pains" target="_blank" rel="noopener">iOS Community Growing Pains</a> </li>
</ol>
<p>工具 </p>
<p><a href="https://github.com/phacility/phabricator" target="_blank" rel="noopener">https://github.com/phacility/phabricator</a> </p>
<p>Git (见Documents下的) </p>
<p>杂项 </p>
<p><a href="http://corner.squareup.com/2014/02/objc-codegenutils.html" target="_blank" rel="noopener">http://corner.squareup.com/2014/02/objc-codegenutils.html</a> </p>
<p><a href="http://get.jobdeer.com/343.get" target="_blank" rel="noopener">Backend API Design</a>  </p>
<p>翻译<a href="http://www.infoq.com/cn/news/2014/09/heroku-http-design-guide" target="_blank" rel="noopener">http://www.infoq.com/cn/news/2014/09/heroku-http-design-guide</a> </p>
<p>Cocoa编码指南 </p>
<p><a href="https://developer.apple.com/library/ios/releasenotes/ObjectiveC/ModernizationObjC/AdoptingModernObjective-C/AdoptingModernObjective-C.html#//apple_ref/doc/uid/TP40014150-CH1-SW1" target="_blank" rel="noopener">Adopting Modern Objective-C</a> </p>
<p><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html" target="_blank" rel="noopener">Programming with Objective-C</a> </p>
<p><a href="http://google-styleguide.googlecode.com/svn/trunk/objcguide.xml?showone=Avoid_Throwing_Exceptions#Avoid_Throwing_Exceptions" target="_blank" rel="noopener">Google StyleGuide Objective-C</a> </p>
<p><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingMethods.html#//apple_ref/doc/uid/20001282-BCIGIJJF" target="_blank" rel="noopener">Coding Guidelines for Cocoa</a> </p>
<p><a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/CocoaEncyclopedia/ClassFactoryMethods/ClassFactoryMethods.html" target="_blank" rel="noopener">Concepts in Objective-C Programming</a> </p>
<p><a href="https://developer.apple.com/videos/wwdc/2014/?id=229" target="_blank" rel="noopener">Advanced iOS Application Architecure and Patterns</a> </p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/自定义tableviewCell分割线的一些小技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/自定义tableviewCell分割线的一些小技巧/" itemprop="url">自定义tableviewCell分割线的一些小技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-05T00:00:00+00:00">
                2016-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS基础/" itemprop="url" rel="index">
                    <span itemprop="name">iOS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/自定义tableviewCell分割线的一些小技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/自定义tableviewCell分割线的一些小技巧/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如果只是设置分割线，那么系统提供的API就可以实现了。</p>
<ul>
<li><p>设置cell的分割线颜色<br>  <code>[tableView setSeparatorColor:color];</code></p>
</li>
<li><p>设置cell分割线的长短<br>  <code>[tableViewsetSeparatorInset:UIEdgeInsetsMake(top,left,bottom,right)];</code></p>
</li>
<li><p>需要重绘Cell的分割线 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- (void)drawRect:(CGRect)rect </span><br><span class="line"></span><br><span class="line">&#123; </span><br><span class="line"></span><br><span class="line">        CGContextRef context = UIGraphicsGetCurrentContext(); </span><br><span class="line"></span><br><span class="line">        CGContextSetFillColorWithColor(context, [UIColor clearColor].CGColor); </span><br><span class="line"></span><br><span class="line">        CGContextFillRect(context, rect); </span><br><span class="line"></span><br><span class="line">        //上分割线， </span><br><span class="line"></span><br><span class="line">        CGContextSetStrokeColorWithColor(context, [UIColor colorWithHexString:@&quot;ffffff&quot;].CGColor); </span><br><span class="line"></span><br><span class="line">        CGContextStrokeRect(context, CGRectMake(5, -1, rect.size.width - 10, 1)); </span><br><span class="line"></span><br><span class="line">        //下分割线 </span><br><span class="line"></span><br><span class="line">        CGContextSetStrokeColorWithColor(context, [UIColor colorWithHexString:@&quot;e2e2e2&quot;].CGColor); </span><br><span class="line"></span><br><span class="line">        CGContextStrokeRect(context, CGRectMake(5, rect.size.height, rect.size.width - 10, 1)); </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置cell的描边 （其实就是分组）<br>除非需要设置每个section的header，不需要用代理去返回header的view，使用xib或SB布局时，设置style为Group就OK了。</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/Tableview下拉加载更多/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/Tableview下拉加载更多/" itemprop="url">Tableview下拉加载更多</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-04T00:00:00+00:00">
                2016-03-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS基础/" itemprop="url" rel="index">
                    <span itemprop="name">iOS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/Tableview下拉加载更多/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/Tableview下拉加载更多/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>新建<code>Class</code>继承 <code>UITableView</code>.</p>
<p><code>.h</code> 文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@interface TestTableView : UITableView </span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure></p>
<p><code>.m</code> 文件 </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@implementation TestTableView</span><br><span class="line"></span><br><span class="line">- (void)setContentSize:(CGSize)contentSize</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    if (!CGSizeEqualToSize(self.contentSize, CGSizeZero))</span><br><span class="line">        </span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        if (contentSize.height &gt; self.contentSize.height)</span><br><span class="line">            </span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">            CGPoint offset = self.contentOffset;</span><br><span class="line">            </span><br><span class="line">            offset.y += (contentSize.height - self.contentSize.height);</span><br><span class="line">            </span><br><span class="line">            self.contentOffset = offset;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [super setContentSize:contentSize];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/cocoapods语法参考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/cocoapods语法参考/" itemprop="url">cocoapods语法参考</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-02-23T00:00:00+00:00">
                2016-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/资料/" itemprop="url" rel="index">
                    <span itemprop="name">资料</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/cocoapods语法参考/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/cocoapods语法参考/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>cocoapods</code>语法参考</p>
<p><a href="https://guides.cocoapods.org/syntax/podfile.html" target="_blank" rel="noopener">官方教程</a></p>
<p><a href="https://www.jianshu.com/p/8af475c4f717" target="_blank" rel="noopener">中文翻译版</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/Controller的Translucent对布局的影响/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/Controller的Translucent对布局的影响/" itemprop="url">Translucent与edgesForExtendedLayout和automaticallyAdjustsScrollViewInsets对布局的影响</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-02-13T21:09:08+00:00">
                2016-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS基础/" itemprop="url" rel="index">
                    <span itemprop="name">iOS基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/Controller的Translucent对布局的影响/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/Controller的Translucent对布局的影响/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>Translucent</code>与<code>edgesForExtendedLayout</code>和<code>automaticallyAdjustsScrollViewInsets</code> 对布局的影响</p>
<ul>
<li>iOS7 以后 <code>translucent</code> 默认为 <code>true</code>，<code>rootView</code> 从（0，0）开始布局，修改 <code>edgesForExtendedLayout`</code> 属性可以改变布局； </li>
<li><code>translucent</code> 为 <code>false</code>，<code>rootView</code> 从导航栏底部开始布局，修改 <code>edgesForExtendedLayout</code> 属性无法改变布局，可以通过设置 <code>extendedLayoutIncludesOpaqueBars</code> 从（0，0）开始布局； </li>
<li><code>automaticallyAdjustsScrollViewInsets</code> 默认值是 <code>true</code>，表示在全屏模式下会自动修改第一个添加到 <code>rootView</code> 的 <code>scrollview</code> 的 <code>contentInset</code> 为(64,0,0,0)，用来纠正<code>scrollview</code>在全屏模式下的显示； </li>
<li>设置 <code>UINavigationBar</code> 的背景图片可以改变导航栏背景色，如果背景图片包含 <code>alpha</code> 的色值，系统会默认将 <code>translucent</code> 设置为 <code>true</code>，没有包含 <code>alpha</code> 色值会将 <code>translucent</code> 设置为 <code>false</code>。但这是针对没有手动设置 <code>translucent</code> 值的情况，如果我们手动设置了 <code>translucent</code>，那么系统就不会根据背景图片的 <code>alpha</code> 来修改 <code>translucent</code></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/Objective-C高级编程读书笔记二-运行时关联对象属性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/Objective-C高级编程读书笔记二-运行时关联对象属性/" itemprop="url">Objective-C高级编程读书笔记二-运行时关联对象属性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-17T00:00:00+00:00">
                2016-01-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/Objective-C高级编程读书笔记二-运行时关联对象属性/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/Objective-C高级编程读书笔记二-运行时关联对象属性/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>当想使用Category对已存在的类进行扩展时。 </p>
<p>一般只能添加实例方法或类方法，而不适合添加额外的属性。虽然可以在Category头文件中声明property属性，但在实现文件中编译器是无法synthesize任何实例变量和属性访问方法。这时需要自定义属性访问方法并且使用Associated Objects来给已存在的类Category添加自定义的属性。Associated Objects提供三个API来向对象添加、获取和删除关联值。 </p>
<p>在一个类中，使用了多个UIAlertView或者类似的弹窗控件时，使用Block进行事件绑定。 </p>
<p>在有多个相同类弹窗场景下，使用Block与buttonindex绑定的方式，解耦因不同弹窗需要定义进行不同判断，进行相应Action的麻烦。 </p>
<p>使用API </p>
<ul>
<li>void objc_setAssociatedObject (id object, const void *key, id value, objc_AssociationPolicy policy ) </li>
<li>id objc_getAssociatedObject (id object, const void *key ) </li>
<li>void objc_removeAssociatedObjects (id object ) </li>
</ul>
<p>其中objc_AssociationPolicy是个枚举类型，它可以指定Objc内存管理的引用计数机制。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">typedef OBJC_ENUM(uintptr_t, objc_AssociationPolicy) &#123; </span><br><span class="line"></span><br><span class="line">OBJC_ASSOCIATION_ASSIGN = 0,           */**&lt; Specifies a weak reference to the associated object. \*/* </span><br><span class="line">OBJC_ASSOCIATION_RETAIN_NONATOMIC = 1, */**&lt; Specifies a strong reference to the associated object.*  </span><br><span class="line">**   The association is not made atomically. \*/* </span><br><span class="line">OBJC_ASSOCIATION_COPY_NONATOMIC = 3,   */**&lt; Specifies that the associated object is copied.*  </span><br><span class="line">**   The association is not made atomically. \*/* </span><br><span class="line">OBJC_ASSOCIATION_RETAIN = 01401,       */**&lt; Specifies a strong reference to the associated object.* </span><br><span class="line">**   The association is made atomically. \*/* </span><br><span class="line">OBJC_ASSOCIATION_COPY = 01403          */**&lt; Specifies that the associated object is copied.* </span><br><span class="line">**   The association is made atomically. \*/* </span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
<p>Associated Objects的key要求是唯一并且是常量，而SEL是满足这个要求的，所以上面的采用隐藏参数_cmd作为key。 </p>
<p>直接上代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">static char alert_view_complete_block_key;</span><br><span class="line">@implementation UIAlertView (Expand)</span><br><span class="line">- (void)showAlertViewWithCompleteBlock:(AlertViewCompleteBlock)block</span><br><span class="line">&#123;</span><br><span class="line">    if(block)</span><br><span class="line">    &#123;</span><br><span class="line">        objc_setAssociatedObject(self, &amp;alert_view_complete_block_key, block, OBJC_ASSOCIATION_COPY);</span><br><span class="line">        self.delegate = self;</span><br><span class="line">    &#125;</span><br><span class="line">    [self showWithRecord];</span><br><span class="line">&#125;</span><br><span class="line">- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex</span><br><span class="line">&#123;</span><br><span class="line">    AlertViewCompleteBlock block = objc_getAssociatedObject(self, &amp;alert_view_complete_block_key);</span><br><span class="line">    if(block)</span><br><span class="line">    &#123;</span><br><span class="line">        block(buttonIndex, alertView);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izhexi.com/category/Objective-C高级编程读书笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="小火炉-运">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小火炉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/category/Objective-C高级编程读书笔记/" itemprop="url">Objective-C高级编程读书笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-13T00:00:00+00:00">
                2016-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/category/Objective-C高级编程读书笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="category/Objective-C高级编程读书笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>内存管理（非ARC） </p>
<p>一 对象的操作类型以及发出对应的动作。 </p>
<table>
<thead>
<tr>
<th><strong>操作</strong></th>
<th><strong>动作</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>生产并持有对象</td>
<td>alloc/new/copy/mutableCopy等</td>
</tr>
<tr>
<td>持有对象</td>
<td>retain 方法</td>
</tr>
<tr>
<td>释放对象</td>
<td>release方法</td>
</tr>
<tr>
<td>废弃对象</td>
<td>dealloc方法</td>
</tr>
</tbody>
</table>
<p>二 在引用计数的实现上 </p>
<p><code>GNUstep将引用计数数据保存在对象占用内存块头部的变量中。</code></p>
<p><img src="/img/count.png" alt></p>
<p>通过内存块头部管理引用计数： </p>
<ul>
<li>用少量代码即可完成 </li>
<li>能够统一管理引用计数内存块与对象用内存块 </li>
</ul>
<p><code>Apple苹果采用散列表来管理引用计数。</code><br><img src="/img/map_count.png" alt></p>
<ul>
<li>对象用内存块的分配无需考虑内存块的头部。 </li>
<li>引用计数表各记录中存有内存块地址，可以从各个记录追溯到各对象的内存块。这一特性在调试时有着举足轻重的作用，即使出现故障导致对象占用的内存块损坏，只要计数表没有被破坏，就能够确认各内存块的位置。对检测内存泄露很有帮助。 </li>
</ul>
<p>三 AutoRelease </p>
<p>用与自动释放对象，类似于C中的局部变量。当超出了作用域后，对象实例的release实例方法被调用。  </p>
<p>使用方法:  </p>
<p>（1）生产<code>NSAutoreleasePool</code>对象  </p>
<p>（2）调用已分配对象的<code>autorelease</code>实例方法  </p>
<p>（3）废弃<code>NSAutoreleasePool</code>对象。  </p>
<p><img src="/img/life.png" alt></p>
<p>示例代码 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSAutoreleasePool *pool = [[NSAutoreleasePool alloc]init]; </span><br><span class="line">id obj = [[NSObject alloc]init]; </span><br><span class="line">[obj autorelease]; </span><br><span class="line">[pool drain];</span><br></pre></td></tr></table></figure>
<p>虽然有了自动释放池，在大量产生<code>autorelease</code>对象时，只要不废弃<code>NSAutoreleasePool</code>对象，那么生成的对象就不能被释放，所以，有空产生内存不足的现象。比如通过<code>NSData</code>加载很多的图片。在此情况下，有必要在适当的地方生产、持有、或废弃<code>NSautoreleasePool</code>对象。  </p>
<p>自动释放 <code>NSAutoreleasePool</code>对象将会发生异常。因为在OBJC（Foundation框架）中无论调用哪一个对象的autorelease实例方法，实际都是调用的是<code>NSObject</code>类的<code>autorelease</code>实例方法。但是<code>NSAutoreleasePool</code>类，<code>autorelease</code>实例方法已经被该类重载(我理解的是重载没有进行实现或者改变了原来的实现，在重载中没有调用super实现)，因此会抛异常。 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">小火炉-运</p>
              <p class="site-description motion-element" itemprop="description">一个iOSer的自留地</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小火炉-运</span>

  
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://izhexi-com-1.disqus.com/count.js" async></script>
    

    

  




	





  










  





  

  

  

  

  

  

</body>
</html>
