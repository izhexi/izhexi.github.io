---
title: 类别-属性关联-扩展的差异
date: 2016-04-23 15:19:30
tags: iOS
categories: iOS
---
在JSpath群里，大佬们讨论了相关的内容。特此记下来。

- 类别：不需要有源码，只能扩展方法  
- 关联：不需要有源码，只能扩展属性  
- 扩展：需要有源码，可以扩展任何东西  
- `associative`不是属性  
- ·property·是属性  

扩展所采用的技术，跟类别是不一样的，扩展其实就是一个编译器帮你做了好像能跟类别那样用的效果，但是实际上编译后就揉到一起了  
`associative` 没进`ivar`  
类别是通过`runtime`的机制，对方法链表做文章，给他加上了`imp` 改变方法链表修改指针。改变方法指向。 但是ivar改不了。 
下面是Apple原文
```
Because no name is given in the parentheses, class extensions are often referred to as anonymous categories.  
Unlike regular categories, a class extension can add its own properties and instance variables to a class.  
the compiler will automatically synthesize the relevant accessor methods, as well as an instance variable, inside the primary class implementation. 

```